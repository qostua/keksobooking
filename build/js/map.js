const StartCoordinates={LAT:35.67598,LNG:139.75245},MAP_START_ZOOM_SETTING=15,MAP_MAX_ZOOM_SETTING=19,MAP_TILE_LAYER_URL="https://tile.openstreetmap.org/{z}/{x}/{y}.png",MAP_TILE_LAYER_COPYRIGHT='&copy;<a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',mainPinIconOptions={iconUrl:"img/main-pin.svg",iconSize:[52,52],iconAnchor:[26,52]},pinIconOptions={iconUrl:"img/pin.svg",iconSize:[40,40],iconAnchor:[20,40]},map=L.map("map-canvas"),mainMarker=L.marker(),layerPopupMarkers=L.layerGroup(),mainPinIcon=L.icon(mainPinIconOptions),pinIcon=L.icon(pinIconOptions),setMainMarkerPosition=(a,r)=>{mainMarker.setLatLng({lat:a,lng:r})},createMainMarker=()=>{mainMarker.options.draggable=!0,mainMarker.options.icon=mainPinIcon,mainMarker.options.zIndexOffset=999999,mainMarker.addTo(map)},setStartPositionMap=()=>{var a,r;map.setView({lat:StartCoordinates.LAT,lng:StartCoordinates.LNG},15),a=StartCoordinates.LAT,r=StartCoordinates.LNG,mainMarker.setLatLng({lat:a,lng:r})},setMapTileLayer=()=>{L.tileLayer(MAP_TILE_LAYER_URL,{maxZoom:19,attribution:MAP_TILE_LAYER_COPYRIGHT}).addTo(map)},getMap=a=>{map.on("load",(()=>{a()})),L.tileLayer(MAP_TILE_LAYER_URL,{maxZoom:19,attribution:MAP_TILE_LAYER_COPYRIGHT}).addTo(map),setStartPositionMap(),mainMarker.options.draggable=!0,mainMarker.options.icon=mainPinIcon,mainMarker.options.zIndexOffset=999999,mainMarker.addTo(map)},createPopupMarker=a=>{const r=a.dataset.lat,n=a.dataset.lng;L.marker({lat:r,lng:n},{icon:pinIcon}).addTo(layerPopupMarkers).bindPopup(a)},renderPopups=a=>{map.removeLayer(layerPopupMarkers),layerPopupMarkers.clearLayers(),a.forEach((a=>{createPopupMarker(a)})),layerPopupMarkers.addTo(map)},setMainMarkerMove=a=>{mainMarker.on("move",(()=>{const r=Object.values(mainMarker.getLatLng()).map((a=>a.toFixed(5))).join(", ");a(r)}))};export{getMap,renderPopups,setMainMarkerMove,setStartPositionMap};