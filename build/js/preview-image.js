const FILE_TYPES=["jpg","jpeg","png"],DEFAULT_AVATAR_URL="img/muffin-grey.svg",adForm=document.querySelector(".ad-form"),avatarChooser=adForm.querySelector("#avatar"),avatarPreview=adForm.querySelector(".ad-form-header__preview img"),adImageChooser=adForm.querySelector("#images"),adPhotoContainer=adForm.querySelector(".ad-form__photo-container"),isTypeMatches=e=>FILE_TYPES.some((r=>e.endsWith(r))),createAdPhotoPreview=e=>{const r=document.createElement("img");return r.src=e,r.classList.add("ad-form__photo"),r},removePreviewAvatar=()=>{avatarPreview.src=DEFAULT_AVATAR_URL},removePreviewPhoto=()=>{const e=adPhotoContainer.querySelectorAll(".ad-form__photo");for(let r=e.length-1;r>=0;r--)e[r].remove()},setAvatarChooserChange=()=>{avatarChooser.addEventListener("change",(e=>{removePreviewAvatar();const r=e.target.files[0];if(!r)return;const o=r.name.toLowerCase();if(!isTypeMatches(o))return;const a=new FileReader;a.addEventListener("load",(()=>{avatarPreview.src=a.result})),a.readAsDataURL(r)}))},setAdImageChooserChange=()=>{adImageChooser.addEventListener("change",(e=>{removePreviewPhoto();const r=e.target.files;for(const e of r){const r=e.name.toLowerCase();if(!isTypeMatches(r))return;const o=new FileReader;o.addEventListener("load",(()=>{const e=createAdPhotoPreview(o.result);adPhotoContainer.append(e)})),o.readAsDataURL(e)}}))};export{removePreviewAvatar,removePreviewPhoto,setAvatarChooserChange,setAdImageChooserChange};